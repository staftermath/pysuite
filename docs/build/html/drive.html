

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Drive &mdash; pysuite 0.3.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sheets" href="sheets.html" />
    <link rel="prev" title="Auth" href="auth.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> pysuite
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="user_manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="auth.html">Auth</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Drive</a></li>
<li class="toctree-l1"><a class="reference internal" href="sheets.html">Sheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="gmail.html">GMail</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">utilities</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pysuite</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Drive</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/drive.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="drive">
<span id="id1"></span><h1>Drive<a class="headerlink" href="#drive" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-pysuite.drive"></span><p>implement api to access google drive</p>
<dl class="py class">
<dt id="pysuite.drive.Drive">
<em class="property">class </em><code class="sig-prename descclassname">pysuite.drive.</code><code class="sig-name descname">Drive</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">service</span><span class="p">:</span> <span class="n">googleapiclient.discovery.Resource</span></em>, <em class="sig-param"><span class="n">max_retry</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">0</span></em>, <em class="sig-param"><span class="n">sleep</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysuite/drive.html#Drive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to interact with Google Drive API</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>service</strong> – an authorized Google Drive service client.</p></li>
<li><p><strong>max_retry</strong> – max number of retry on quota exceeded error. if 0 or less, no retry will be attempted.</p></li>
<li><p><strong>sleep</strong> – base number of seconds between retries. the sleep time is exponentially increased after each retry.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pysuite.drive.Drive.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">parent_id</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pysuite/drive.html#Drive.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>copy target file and give the new file specified name. return the id of the created file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – target file to be copied.</p></li>
<li><p><strong>name</strong> – name of the new file.</p></li>
<li><p><strong>parent_id</strong> – the id of the folder where the new file is placed in. If None, the file will be placed in
Google Drive root.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>id of the created new file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.create_folder">
<code class="sig-name descname">create_folder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">parent_ids</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="#pysuite.drive.Drive.list" title="pysuite.drive.Drive.list">pysuite.drive.Drive.list</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pysuite/drive.html#Drive.create_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.create_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>create a folder on google drive by the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the folder to be created.</p></li>
<li><p><strong>parent_ids</strong> – list of ids where you want to create your folder in.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>id of the created folder.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysuite/drive.html#Drive.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>delete target file from google drive
TODO: implement recursive delete</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – id of target object.</p></li>
<li><p><strong>recursive</strong> – if True and target id represents a folder, remove all nested files and folders.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.download">
<code class="sig-name descname">download</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">to_file</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.PosixPath<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysuite/drive.html#Drive.download"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.download" title="Permalink to this definition">¶</a></dt>
<dd><p>download the google drive file with the requested id to target local file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – id of the google drive file</p></li>
<li><p><strong>to_file</strong> – local file path</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.find">
<code class="sig-name descname">find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_contains</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name_not_contains</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parent_id</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pysuite.drive.Drive.list" title="pysuite.drive.Drive.list">list</a><a class="reference internal" href="_modules/pysuite/drive.html#Drive.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.find" title="Permalink to this definition">¶</a></dt>
<dd><p>find all files whose name contain specified string and do not contain specified string. Note that Google
API has unexpected behavior when searching for strings in name. It is can only search first 26 character. In
addition, it seems to search from first alphabetic character and Assume there are the following files:
‘positive_a’, ‘positive_b’, ‘a’, ‘_a’, ‘ba’</p>
<dl class="field-list simple">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">name_contains</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>  <span class="c1"># this finds only &#39;a&#39; and &#39;_a&#39;, not &#39;positive_a&#39; or &#39;ba&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name_contains</strong> – a string contained in the name</p></li>
<li><p><strong>name_not_contains</strong> – a string that is not contained in the name</p></li>
<li><p><strong>parent_id</strong> – parent folder id</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of dictionaries containing id and name of found files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.get_id">
<code class="sig-name descname">get_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">parent_id</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysuite/drive.html#Drive.get_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.get_id" title="Permalink to this definition">¶</a></dt>
<dd><p>get the id of the file with specified name. if more than one file are found, an error will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the file to be searched.</p></li>
<li><p><strong>parent_id</strong> – id of the folder to limit the search. If None, the full Google drive will be searched.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the id of the file if found. Or None if no such name is found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.get_name">
<code class="sig-name descname">get_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pysuite/drive.html#Drive.get_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.get_name" title="Permalink to this definition">¶</a></dt>
<dd><p>get the name of the Google drive object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>id</strong> – id of the target Google drive object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>name of the object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.list">
<code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">regex</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">recursive</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">depth</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">3</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pysuite.drive.Drive.list" title="pysuite.drive.Drive.list">list</a><a class="reference internal" href="_modules/pysuite/drive.html#Drive.list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.list" title="Permalink to this definition">¶</a></dt>
<dd><p>list the content of the folder by the given id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – id of the folder to be listed.</p></li>
<li><p><strong>regex</strong> – an regular expression used to filter returned file and folders.</p></li>
<li><p><strong>recursive</strong> – if True, children of the folder will also be listed.</p></li>
<li><p><strong>depth</strong> – number of recursion if recursive is True. This is to prevent cyclic nesting or deep nested folders.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of dictionaries containing id, name of the object contained in the target folder and list of
parent ids.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.share">
<code class="sig-name descname">share</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">emails</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">role</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'reader'</span></em>, <em class="sig-param"><span class="n">notify</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysuite/drive.html#Drive.share"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.share" title="Permalink to this definition">¶</a></dt>
<dd><p>modify the permission of the target object and share with the provided emails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – id of target object.</p></li>
<li><p><strong>emails</strong> – list of emails to be shared with.</p></li>
<li><p><strong>role</strong> – type of permission. accepted values are: ‘owner’, ‘organizer’, ‘fileOrganzier’, ‘writer’,
‘commenter’ and ‘reader’.</p></li>
<li><p><strong>notify</strong> – Whether notifying emails about the sharing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>name of the object shared.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">from_file</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.PosixPath<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysuite/drive.html#Drive.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.update" title="Permalink to this definition">¶</a></dt>
<dd><p>update the Google drive with local file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – id of the Google drive file to be updated</p></li>
<li><p><strong>from_file</strong> – path to local file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysuite.drive.Drive.upload">
<code class="sig-name descname">upload</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">from_file</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>str<span class="p">, </span>pathlib.PosixPath<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mimetype</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parent_id</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="_modules/pysuite/drive.html#Drive.upload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysuite.drive.Drive.upload" title="Permalink to this definition">¶</a></dt>
<dd><p>upload local file to gdrive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_file</strong> – path to local file.</p></li>
<li><p><strong>name</strong> – name of google drive file. If None, the name of local file will be used.</p></li>
<li><p><strong>mimetype</strong> – Mime-type of the file. If None then a mime-type will be guessed from the file extension.</p></li>
<li><p><strong>parent_id</strong> – id of the folder you want to upload the file to. If None, it will be uploaded to
root of Google drive.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>id of the uploaded file</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sheets.html" class="btn btn-neutral float-right" title="Sheets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="auth.html" class="btn btn-neutral float-left" title="Auth" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Weiwen Gu

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>