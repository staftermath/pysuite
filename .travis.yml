language: python
python:
- 3.6
- 3.7
- 3.8
branches:
  only:
  - "/.*/"
before_install:
- ".ci/dependencies.sh"
install:
- ".ci/install.sh"
before_script:
- ".ci/create_credentials.sh"
script:
- ".ci/test.sh"
env:
  global:
  - secure: 4FSEc0lcWT8bYlqso3NXgULmIsxHZC58aOADcf1SCMJbQjyzmH2PRoJl4m6Ejk6YUNZgoASjwa4ICDiA+hzNN49Eg8fmRPJJxg9DmLa8+ZbBxpjwl9f0ZAqZNXDE2VbDO8SJB/SmbrbaprzkKkcwIvLosIpmwxYjP1o5PoyiBJ5EIEMkYqCSm+1aLg4qYQ4W3ucuEPZNeY1yY6J9AQ250GT93wmwi3pNs7P+Ah94IqXxQuPImHB6GLB1qiIUxXMAJ3LFW24i5ZbxjRuTau2MjLPsolo5jdg9pDaP5yGI6eJRAfWzogpy7SaGkTCFBcfOXa7H6qz8MUT/4xc4EewUQ4ELepOA/9SlAka+YU1019fHpwhi84Ebf1emnDuGuwzg9k2FZkz3Ch+CexJX0RIXnJvhLgHri3XCdxEaFk5g/XFNOJ/6mgCSwC91iQFjlmAva4oNoPyDSfGyIMf/iW85fxCNrNGSE6DgVlceaOoY/NwLh8pSLboIgg3X+JR4oZ/Er8ydHCU5nxE6bV33o7JFG88bOI4wLIA/fTOYqRxFbL2eFsTVWnxeCOoq0cf6QqYISdQIlIP1Pv5oYKRzlM0IlJlT6imuFDQfrn0eaJuZvG2ToXL/Pk99muf2jb3dKANleUzriI0iwPsjJHlIk3ZdXP6q9Ym7E+GaTcVs6lNs+n4=
  - secure: bsd8VfK7ZQdQhvVtUW63jItshVkJ6QIT+VPX/kVP6w0xx0H14l1ZHyGYnOSN+9MVgL47QmOLte9Dyir/yPsLopPVtLU7TXG0nBBnV8OiStH9NKb3xfLRsrQ0EfuroFERXyJPh+Xq/dRNY+YZGqjuW0oEN4QBcVTY511iW1CVMqmxO5xjJ5Lu1l0OSpGUQLKe6MiiLoBHF6qWPKUJombobvCPJ14UAEaspTXV7aVK9OX2+tHvf+DqaXf6aA9rxMdAb0jHsCmmFZneShg+2YpTZ1Z/fxCcLQWoqHYv2Z6p+Azz7TTc81UUkW5gUOEv1FkO2C4l8L7K7y1L1YOwuXfOhX0f3PXCqrUPQ1khwU9H4lPn9H5bjMhEeWc+8nNGuxbqN3rn7mEz03COERp1xRpBrAk3blfmq4KS8yTNcrNycb6576sXM5Jh8+LZAnU0VOCo81KgJggxqPlaofjaVFlceWTq2Dgj1Powx1/Vm3z4+AnxCZnzX2ARZIM3YHkxGM8ZWYjLOBwjj+mal40ppfSCYXeTRmgDDaQ6eUnF/Ny5FWsHhk9+KAwwcx1bZR3mpeZlwi9kQLPADXKWTIO6Qsrl9baE+OA025pI3XvoWIxLsKrU+doU+BezlXFWoxbxBYx8yfKgrCL9tMrz+RaEnNnvErr1QcS/eIlX2jJfNbTte1s=
  - secure: kMByTb3og3Om+bLkYvHVXbs7rSxnq7wbDd+DtxrpNp/XAWjvr+K0PQbw1H6k/OeBXlFrsH16gDt6m/dLeHu3oWnOc1qou+oFW5FyA5zwoXV+2Obdi/i5qEprMUi6oKn6XnqHbGNYxW+Uuu5lRRa6UNPM0n8NSh7i/iyfu5T1Dwe8o6WZWBaRfKYz6qgZvdYZFh0jrbdmc65r664i2z+/X0d6mLgjdih+9U5bD6nnvl3rutrN99LiU4PrqSHebdf1iiFHzTXwstKRkmljw83wX0ZuwyRb2HP8To/mzZoYHZOymO1vo3ccMRS2lpgBMJTEYxS8W8lHg8sptgjx7JzpjNjLVaQCa/WxfUdp/qc0xAyR2NwhYnsLpSXRZt3ZRm4o3kgFveYVXBKwX3I6H4l2VfkSKiVfv819NnSaD19rQA6nBvbILBHHE+rB479ccY8IuzyFJrLahKFvAau43dNfUG2KVX8DUk8C4dgnJWH8aDPwVrRJahd/dT5adlz/TUKLVDpT6tLdL6kUepQ7DmN+Vwoh9eWSaatYPbF44COk5MBC3jg2F7C5LUVUZfaqGkjeY+nJ41XpH4+CqRQUTBXG9/f+JOH1Zw6IiwIYUPcfwv0d1+D9ohuT3ZoeH3IgESL0e2Ls1bLgMnvn6BQZUKF164ZBjln2tAHv8vv7AOPloLk=
  - secure: lIRKmfwK9Aw7o1phRtFvULN+A14T6D3HjPbwNYJ01I2u3oQxYum/g7WFnwrO4f0Txt5K/mKJqGuMs1o6vbbMLlauI7mEZiO5zEZHIvywFuEZEq2e63MjyKmkylDHnWStous99XrkXKbFVaMapx6V+O5v9cm+az0EkD5dZZh5zATV+5w0HfM4NfZx5xw/tN8fxtkOGG1FWhe6Dfansp0Tj4gWfSxq1O0kq1sNdGhL3TTAH5XwuKmcOGMJfDDCTWcgb1wD3MFYNUGYpehObtkVfoAk3SpRUvvx8SlRHKD74coYsiIURK8EHiwmtlDx0rf3uWHKpsHzIyOpC8sJ7+UvSyG5PeMl4djjpXaWfvfCTPLSDq2TqSyGbaRJYMejS85OIk1lI1zly8uOBMBOV21ln2huzXwo2sGDjsqBclSkK+cWPkqVm8PmLpQomhPZ+YR6QsLypNJ4wwJ0yloTDdXuX3cVjwt3UWjxXsO/scyD2iC/Nc/3kt825Ix9+RKBz3pkVY8fg1mM755ISfnDqoF+KByHJEGFSLZGA17t+x2tkzKtVk0JUimhUJhABdBnDYlV6BzIMourtW3nl5T5rKLRCd/m4hSxJPRlhK/irDB5RRYiS7rTnjTtxbkYHGTzmPKMQpyBo4nmL66DI9a2kIn4+NmDc/SFY1iUYejcSyJy7Dc=
  - secure: 5Og3fOXXWoqctl3LuYuc8U/q7XSwb5YZGgh5VM45l8nbi4BjbGBprjWNIkdo/3VSlNeAlVzOSDE4yk5Bi0ISqsLdLiPn2u1arVsKgu2TA9GSZcORN6aPGcmse37A856UcF/vuO7jS+/Ng/AnNM3NsEl0WKNGJ8b68vKT4gc42EpCJUr0PPSkBFxbRdW/x4TZ3PCt47yPYDHDU+eyaJYLIwKW48z/0LtRprVWtvQRrs7AQcNnK3k96JzDSLVL2NNRI6ErBvhl6moq6ggSz87l3ukeplJRj6GLYIQKwANsyGqpW4U3DGNdJ9XkRozdskUx1yyf4xv9NUPUBOvJaw0+Y5MM1s9tqguHdhUsKmcvrS5OBQ7k376wr6mapcxfVZZnvA3EylwXpvJpTi2U7X+LCCO8GNKBw3CaW7zcUor0jPM6kOWj9NH0lcxyXOq0d2jvC5//Cf+ENt2NlUpYljwaIfbKHIswhifQkrlgjFVS6AV+iP5qtBRsMyK6Oydv3hA4bkAMdXuz0LI8EG9+PNsFB5EHP6oiHt2FxCcOV9NQkoKlQ3xtrHhCEjkQcNs74EboFJNsbCtWpSqb/H0/c8npCLM5GfyqEFrpLUPkaVRN2hq6rh5UniZ910Rk36TMzLXxT7nyD5JQcDIQ3eVkbOYb0E1tQHqmk94DfHy85dkcOu4=
  - secure: 0qW2aX8/7bHxd2rFu+acjjXuc5jmbO7ccgUtnGfH9bqbNsbmrTxYR2qUDIqNm3rq94F4oJ8nsZw9renAgRx0lq8GmKyzDXrnKBWyHEF/8WgepWycl3bWHs70XR52kRcRH50JbNtr6YmPz6SzQH+QGLdsqroeoj8n2BHljN4EXSbsMaB8n86Mf7d+zPvewzSH8vY3ZseXwsOHiSGJYQCRret+WLHSPXAbD8kexyirTrRMDvAUWHauziGXNj0wciBR0ZNLOvNjkiYE6QABHENU/PknfoutLO1Utp+3SRIFh508gtGKYwWsOWMR3re2R+6m7ugoiv5MATYUp5ns+PcjqlNSnQt6QDG7517EX3nOjD0hVjF9/VFRkwRyJLxVPYj0KncY3LQd2hOklsxlYKlrjt3Oajv6mzQxnulFimBd/BrvR2xOSkD1J6dDQE4jtRa/Xx3veU5Q+fdMjBbYdgWErhOoTSBxuD8D9sxH0cbIEeakB0Nx4MUFop9OtyTWPXkIeto6/FsGkZxF1md8uhc0rnzGW2HbeNLi85+r71CFMWzAvRJp0QzHfytAtPkolfhkFGLQojpCfTSb20dMhdN+dqdBM/eNz5g6WXu3fFj+OUIbIVrCGC1sWbTQR74x+D4y9Y6Ful34pv9m/8ImtD5vcbx1aJjJjbdvXX9VbmhAniw=
  - secure: JepAdh5V2GK/rjDqp/yFdI/oglw4wW3WidbS/PMKXGYlEOm+0yaM5JGjLcWt+lnNeRIULDUEEZJjzn988iMa263ailIAGu0YhwrHx9auOUrpYtzrEdsbPAlG2FRc/1DKRu8O7Mt2scnPi69QOaHdhGf5yilmlXPjBFKeAaQef3VbXft9Tcd+JTWYap5tG7o0dGKWTc93ZdJ9jUIVB1iQWXB1alD8Dq6zSHy89BsmahuzB9gtt9a8444kQNbtJJKJUZkzIotCjIls5Pdjxl7ddnh23MeclNeb0pmNBTuSPxXhOAMccAvHkd+GDGUVGuDn5QQ6L9UfXVpICU83Nu1kOPDHgPPpGFAlIDynwK3Azc8UiEh1C17QqKcA2kTqh9nVE0Y0ublpHR/Jzt0tFNqeseBRQB/qEzNJHrO3RjCeY63NvVmticNnd1sKeii00qn0zMjeNy32/ihO0yk/PEgpJQkbX8XRacKb66ocFOLBwAPHg1iRuC/d3Mh7tp8aL/Xf+AxkS3/tq1vTSm4eXNjr0W9Irz6v6fmABQJNRUK18aLHbD90J+/KrS6AYrlpmU+TloUy352kOEw4G6K9wF6kNIIVOscEbED9r319TXJBq+TdeU0OkCD6R/SGaH+sK3mU4MFOWGz4Rx5FtsUk0Rr1jMG1NM4Ffb3s6v5d3Pyjb0U=
  - secure: Yz1QpQZUwTzFyz/EkaEtQrpym3ikG8wFcqPIaBi8rZXRoXkG8z7WlEpeP8enSDoKVqZRln1BpSbZIcESWvrbcbY+NduIQqDsJYjVmDTP6RrTxuhZ5QGTzStqZnDr1pEDSxUGjLuv9IWsY8drh51brbE9raI4uPwl3xioI+sPqfTa4reASr5Lpu/AzofREBsbpWMzHujiBl7UIZExHmplB0613xA5IRYbyg+qh+bVdZ/1QBnAtSGgeC5rnGRtghuJmJQUBVtAmol/bdtxcVPnqhsUY7MqQbO/9XvxCtSht//arWggezaJJ8yNngvOHJka49izc1UAVZfrBXGQ5bJHxWCppbqe/4uDXlvyFQXtoCP3ndHcVf8ylcWs12ugLF1ZneXsKecVme0s0LdBkAP++TBbBiiq7gGupMi73fJ0pGczn/TbGwYLxV8I/TgvBdsjitO2ywgTVW1NkvSIYMJvNzcdPY/JPrWczAIbRtHL0XY7HuW2nLjIgSQTrPcZs3b6FI9HpNkVNCnbZDDmAXSwu9fN4X2RIUztaIrP7sqAIGV3jDsdgEiHnVXkuiP0awpvkeDKcaTyfeR4cUufvYSIpWJT/oGEjD+Rni3NGSLCvyiIpGqp+8KlfvKq8hJffPOkR+1a73bD148CrJYyC47CgQu8CjG/mOzvIC45xAULCt0=
  - secure: i/thBWpIed1mj56p/lWTxOKmEFA0EN7Be+Rj7jvwR7iqMmNUQ6Ck91K055HeBaZE+zVQw+59OJbMAFB99gEpSHZPxestb62N2xy/fZzML0zQQ0sooqpxWnx4+oi7jJyNA/wuG9DdDZoP6GGRi+mJaU1uMCYofMrQ2ZElia5cxLH9ZFDC1sZNzCSV5DxEv5lOi9Ri+JoduQMe8zQIoB/mnT/Ws8XIRxnfvTLeVg4bSitJIdXsPpALcy3qsqwa+07Q/w9ogZhipyLgN5by0BVr0858gk7DymqW8Bg3fvfQneknLHxdRNcOd5nQjV6X04YNJJhyemWTiXnrEpePMQaQfDhg/lbvRDOcDLx7S39AHVqv3Ap6vxyqF+T8XyIcl5nzlhYlMtRmRb+iHBcqFhPqregoyZ77GxGQHb5+e3zGNbGPnembTfs/1CWmLgh3fPI2akzG0LE3blTUEJtF/d82h9ODlL0FgEWKwRuXJx/sW6gxPfvUUdrFLaFBkZiwiTA8p/teDdn32B591HSDHWs1b/ztv2ll0kHblgwXYHVl+WbFHJ0PSlV83238gg+wRUwcjy8z1RbtcvJIOx6SCa5LHWbxN9hnEFQTSFVmXoY6bZu5EoksyDzTyBMcupb5wZNKXsVIcH3scD79kKC7pH0UNxyPMPCPzCS7hE3tDmj6ayo=
  - secure: 6TpEIUUBqVoKad8lUPkT6o9nLvNAsXCGh1LH7x1Gu7E386JcWTM2MqBlDE6bGUxGCUrxjE7zspAKv9kzepCo3BZnRu73BsGsiMbYl2cIg6/GbwXsjXFvJuIWiPo6c6Q5m+KEL3Wg4oSl+DQKtEdpF+S2ke/75QTdGBZWWffOe/MkvX7NU1RUsl01TEqbVBa56b5OrxCc+n2KejDmmvnPNZo1tbpRiuvbjhJfwmmBcuEkkmtET/HLq5HkjRFRCMGicewRlOG4XCSEDLhqZ6IFvZ1VFnQJPueN70SPPPoJV5fua2ML5ng4ZeeNQm2A6cNw750XfwZ1FWMyjLokVetjM0ER0/MwVdZnOKSXYQxPqom2H0ooGNMUFTOjgLE5bwo+yVuEFdCxL1NLWFy42wnydvmw0++oCFkiuwN315Uhq9Wpd1cN2aFgqN5zoJn0ue6Ei2Ce/WeLlccJgsUv1y1ELd3dCNFqA/7aNTsRFoV0L0NFC0A9dmREuUtKBIj4zZvDWVUn+0nmnncq4wo80DHkU4vNVvGJ9gbaOBUy5ftV9Z7/yANWhDozLLMN2XGAmMnbzhayxs4SsHpx0rU8Kz9i9m6GsDwDROcqRUF3E36igU3U31WBQo+BxfhAeWZKdKgE3RpiBTSD2B5Z7fYJz3SUEOvsEEpdUzqmqWaNbRCTqPQ=
after_success:
  - bash <(curl -s https://codecov.io/bash)